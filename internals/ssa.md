# SSA IR

The SSA IR is the primary IR used by the compiler for target agnostic optimizations, and takes the form of quadruples. 

## SSA Format

The SSA is made up of a vector of functions, which are made up of a vector of basic blocks, which are then made up of a vector of operations.

Besides calling functions each operation takes at a max 3 paramters, and returns a value into the first element of the quadruple, which can be a symbolic register or nothing. 

### Datatypes

* Symbolic registers, which are given a name (in the case of function parameters) or a number (in the case of autogenerated symbolic registers), prefixed by %
* Integer literals, prefixed by $

#### Types

The SSA is very weakly typed with types implemented as functions on bit vectors.

There are 2 data types, long and word. They are both bit vectors with no signedness to them, with long being 64 bits and word being just 32. 

### Operations

* add - adds two bit vectors of the same size (doesn't care about sign)
* sub - same as add but subtraction
* mul - same as add but multiplication
* idiv - divides two bit vectors of the same size (acts as if they are signed)
* udiv - divides two bit vectors of the same size (acts as if they are unsigned)

### Examples

%1 =w add $10 $15
%2 =w add %1 $21
